---
import "../styles.css";
import Blob1 from "../components/blobs/Blob1.astro";
import Services from "../components/Services.astro";
import Projects from "../components/Projects.astro";
import Offer from "../components/Offer.astro";
import Process from "../components/Process.astro";
import Form from "../components/Form.astro";
import Footer from "../components/Footer.astro";
---

<!doctype html>
<html lang="pl">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="description"
			content="Niki codes - profesjonalne tworzenie stron internetowych"
		/>
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>niki codes.</title>
	</head>
	<body class="bg-gradient-to-br from-slate-50 to-slate-100 text-slate-700">
		<header class="min-h-screen relative overflow-hidden">
			<nav
				class="fixed top-0 left-0 right-0 backdrop-blur-lg border-b border-gray/20 z-50"
			>
				<div class="container mx-auto px-4 bg-slate-50 text-slate-700">
					<div class="flex items-center justify-between h-16">
						<a href="/" class="text-md font-bold">niki codes.</a>
						<div class="hidden md:flex space-x-8">
							<a
								href="#uslugi"
								class="hover:text-blue-900 transition sm:text-gray-900 sm:font-semibold"
								>Usługi</a
							>
							<a
								href="#portfolio"
								class="hover:text-blue-900 transition sm:text-gray-900 sm:font-semibold"
								>Portfolio</a
							>
							<a
								href="#kontakt"
								class="hover:text-blue-900 transition sm:text-gray-900 sm:font-semibold"
								>Kontakt</a
							>
						</div>

						<button
							id="burger-btn"
							class="md:hidden flex flex-col justify-center items-center gap-y-2 z-50"
							aria-label="Menu"
						>
							<span class="burger-line line1"></span>
							<span class="burger-line line2"></span>
							<span class="burger-line line3"></span>
						</button>
					</div>
				</div>
				<div
					id="mobile-menu"
					class="mobile-menu fixed top-0 right-0 h-screen w-full bg-slate-100 backdrop-blur-lg bg-opacity-98 shadow-lg z-20 md:hidden"
				>
					<div class="flex flex-col pt-20 px-6">
						<a
							href="#uslugi"
							class="text-center py-3 border-b hover:text-purple-950 transition-all duration-300 font-bold"
							>Usługi</a
						>
						<a
							href="#portfolio"
							class="text-center py-3 border-b hover:text-purple-950 transition-all duration-300 font-bold"
							>Portfolio</a
						>
						<a
							href="#kontakt"
							class="text-center py-3 border-b hover:text-purple-950 transition-all duration-300 font-bold"
							>Kontakt</a
						>
					</div>
				</div>
			</nav>
			<div
				class="absolute -top-12 right-50% w-[400px] sm:w-[450px] md:w-[600px] lg:w-[800px] lg:-top-64 opacity-50 overflow-hidden sm:right-48 sm:-top-28"
			>
				<Blob1 />
			</div>
			<div
				class="relative z-10 container mx-auto h-screen flex items-center justify-center"
			>
				<div class="text-center max-w-4xl mx-auto">
					<h1 class="text-4xl md:text-6xl font-bold mb-6 playfair">
						<span class="block">Twoja wizja.</span>
						<span class="text-xl block mt-2 text-slate-600"
							>Nasze rozwiązanie.</span
						>
						<span class="block mt-2">Twoja nowa strona internetowa. </span>
					</h1>

					<div
						class="flex flex-col mx-auto sm:flex-row gap-4 justify-center max-w-64 sm:max-w-none"
					>
						<a
							href="#portfolio"
							class="pulsation px-8 py-4 bg-transparent border rounded-full font-bold shadow-md hover:bg-gray-100 transition-all duration-75"
						>
							Sprawdź ofertę
						</a>
					</div>
				</div>
			</div>
		</header>
		<main id="main-content">
			<Services />
			<Projects />
			<Offer />
			<Process />
			<Form />
			<Footer />
			<script>
				const burgerBtn = document.getElementById(
					"burger-btn"
				) as HTMLButtonElement | null;
				const mobileMenu = document.getElementById(
					"mobile-menu"
				) as HTMLDivElement | null;

				if (burgerBtn && mobileMenu) {
					burgerBtn.addEventListener("click", () => {
						burgerBtn.classList.toggle("burger-active");
						mobileMenu.classList.toggle("active");

						const isExpanded = mobileMenu.classList.contains("active");
						burgerBtn.setAttribute("aria-expanded", String(isExpanded));
					});

					const mobileLinks =
						mobileMenu.querySelectorAll<HTMLAnchorElement>("a");
					mobileLinks.forEach((link) => {
						link.addEventListener("click", () => {
							mobileMenu.classList.remove("active");
							burgerBtn.classList.remove("burger-active");
							burgerBtn.setAttribute("aria-expanded", "false");
						});
					});

					document.addEventListener("click", (e: MouseEvent) => {
						const target = e.target as HTMLElement;
						if (
							target &&
							!mobileMenu.contains(target) &&
							!burgerBtn.contains(target) &&
							mobileMenu.classList.contains("active")
						) {
							mobileMenu.classList.remove("active");
							burgerBtn.classList.remove("burger-active");
							burgerBtn.setAttribute("aria-expanded", "false");
						}
					});
				}
			</script>
		</main>
	</body>
</html>
